<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 1: Unity in Diversity - Reading & Exercises</title>
    <style>
        /* --- New Color Palette & General Styling --- */
        :root {
            --purple: #6f42c1;
            --teal: #20c997;
            --light-blue-bg: #f0f8ff; /* AliceBlue */
            --light-gray-bg: #f8f9fa;
            --border-color: #dee2e6;
            --text-color: #212529;
            --success-color: #28a745;
            --danger-color: #dc3545;
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--light-blue-bg);
            margin: 0;
            padding: 20px;
        }

        .main-container {
            max-width: 950px;
            margin: 0 auto;
            background-color: #ffffff;
            padding: 20px 40px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        h1, h2, h3 { color: #343a40; }
        h1 { border-bottom: 2px solid var(--purple); padding-bottom: 15px; margin-bottom: 20px; text-align: center; }
        h2 { border-bottom: 1px solid var(--border-color); padding-bottom: 10px; margin-top: 40px; }
        hr { border: 0; height: 1px; background: var(--border-color); margin: 40px 0; }

        /* --- Tab Interface Styling --- */
        .tab-nav {
            display: flex;
            flex-wrap: wrap; /* Allow tabs to wrap on smaller screens */
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 25px;
        }
        .tab-button {
            padding: 15px 25px;
            cursor: pointer;
            border: none;
            background-color: transparent;
            font-size: 1.1em;
            font-weight: 500;
            color: #6c757d;
            border-bottom: 3px solid transparent;
            transition: color 0.3s, border-bottom-color 0.3s;
            text-decoration: none;
            text-align: center;
        }
        .tab-button:hover {
            color: var(--purple);
        }
        .tab-button.active {
            color: var(--purple);
            border-bottom-color: var(--purple);
            font-weight: 600;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }

        /* --- Styles from Reading Text Page (index.html) --- */
        .clickable-word {
            font-weight: bold; color: var(--teal); cursor: pointer; text-decoration: none; border-bottom: 2px dotted var(--teal);
            transition: color 0.2s, border-bottom-color 0.2s;
        }
        .clickable-word:hover { color: #17a2b8; border-bottom-color: #17a2b8; }
        .modal-backdrop { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(3px); }
        .modal { display: none; position: fixed; z-index: 1001; left: 50%; top: 50%; transform: translate(-50%, -50%); background-color: #fff; border-radius: 8px; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3); width: 90%; max-width: 600px; max-height: 80vh; overflow: hidden; flex-direction: column; }
        .modal-header { padding: 15px 20px; border-bottom: 1px solid #dee2e6; background-color: #f1f3f5; display: flex; justify-content: space-between; align-items: center; }
        .modal-header h2 { margin: 0; font-size: 1.5em; color: #343a40; border: none; }
        .modal-close { color: #6c757d; font-size: 2em; font-weight: bold; cursor: pointer; line-height: 1; }
        .modal-content { padding: 20px; overflow-y: auto; }
        .modal-content h3 { color: var(--purple); margin-top: 1.2em; margin-bottom: 0.5em; font-size: 1.1em; text-transform: uppercase; }
        .modal-content li { background-color: #f8f9fa; border-left: 3px solid var(--teal); padding: 8px 12px; margin-bottom: 5px; border-radius: 0 4px 4px 0; }
        
        /* --- Styles from Workbook Page (indexworkbook.html) --- */
        .button-container { margin-top: 30px; text-align: center; }
        button#reset-btn { background-color: #6c757d; padding: 12px 25px; font-size: 16px; font-weight: bold; cursor: pointer; border: none; border-radius: 8px; color: #fff; transition: background-color 0.2s, transform 0.2s; }
        button#reset-btn:hover { background-color: #5a6268; transform: translateY(-2px); }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
        .shake { animation: shake 0.4s ease-in-out; }
        .drag-container { display: flex; flex-wrap: wrap; gap: 10px; padding: 15px; background-color: var(--light-gray-bg); border: 1px dashed var(--border-color); border-radius: 8px; margin-bottom: 20px; min-height: 40px; }
        .draggable { padding: 8px 15px; background-color: #fff; border: 1px solid var(--border-color); border-radius: 20px; cursor: grab; user-select: none; transition: all 0.2s; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .draggable.dragging { opacity: 0.5; }
        .draggable[draggable="false"] { cursor: default; background-color: #e9ecef; }
        .drop-zone { padding: 10px; border: 2px dashed var(--border-color); border-radius: 8px; transition: all 0.2s; min-height: 40px; }
        .drop-zone.hovered { background-color: #e6f7ff; border-color: var(--teal); }
        .matching-area { display: grid; grid-template-columns: 1fr 2fr; gap: 15px; align-items: center; }
        .matching-area .term { font-weight: bold; }
        .categories { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .category h3 { color: var(--purple); margin-top: 0; font-size: 1.1em; }
        .category .drop-zone { display: flex; flex-wrap: wrap; gap: 8px; }
        .sentence-list li { list-style-type: none; padding: 8px 0; display: flex; align-items: center; }
        .sentence-list { padding-left: 0; }
        select { padding: 5px; margin: 0 5px; border: 2px solid var(--border-color); border-radius: 5px; font-size: 1em; transition: border-color 0.3s; }
        .feedback-icon { font-size: 1.2em; margin-left: 10px; }
        .correct { border-color: var(--success-color) !important; }
        .incorrect { border-color: var(--danger-color) !important; }
        .draggable.correct { color: #155724; border-color: var(--success-color); background-color: #f0fff4 !important; }
        .draggable.incorrect { color: #721c24; border-color: var(--danger-color); background-color: #fff5f5 !important; }
        
        /* --- Multiple Choice Quiz Styling --- */
        .quiz-container ol { padding-left: 20px; }
        .quiz-container li { margin-bottom: 25px; }
        .quiz-option { margin-bottom: 8px; display: flex; align-items: center; }
        .quiz-option label { margin-left: 8px; cursor: pointer; }
        .quiz-feedback { margin-left: 10px; font-weight: bold; }
        .quiz-feedback.correct { color: var(--success-color); }
        .quiz-feedback.incorrect { color: var(--danger-color); }
        input[type="radio"]:disabled + label { color: #6c757d; }

        /* --- Adjective Derivatives Game Styling --- */
        .adjective-game-container { overflow-x: auto; box-shadow: 0 2px 8px rgba(0,0,0,0.08); border-radius: 8px; border: 1px solid var(--border-color); }
        .adjective-table { width: 100%; text-align: left; border-collapse: collapse; }
        .adjective-table th, .adjective-table td { padding: 12px 15px; border-bottom: 1px solid var(--border-color); }
        .adjective-table thead th { background-color: #495057; color: #ffffff; font-weight: 600; text-transform: uppercase; font-size: 0.85em; letter-spacing: 0.5px; }
        .adjective-table tbody tr:nth-of-type(even) { background-color: var(--light-gray-bg); }
        .adjective-table tbody tr:hover { background-color: #e9ecef; }
        .adjective-table .positive-adj { color: var(--success-color); font-weight: 500; cursor: pointer; }
        .adjective-table .negative-adj { color: var(--danger-color); font-weight: 500; cursor: pointer; }
        .adjective-table .hidden { opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease; }
        .adjective-table td:not(.hidden) { opacity: 1; visibility: visible; }

        /* --- LISTENING TAB STYLES --- */
        #listening h2 { color: #2c3e50; text-align: center; margin-bottom: 1rem; border-bottom: none; }
        #listening p.instructions { text-align: center; color: #555; margin-bottom: 2rem; }
        #listening .audio-player { text-align: center; margin-bottom: 2rem; }
        #listening #toggle-audio { background-color: #3498db; color: white; border: none; padding: 12px 25px; font-size: 16px; border-radius: 25px; cursor: pointer; transition: background-color 0.3s, transform 0.2s; }
        #listening #toggle-audio:hover { background-color: #2980b9; transform: translateY(-2px); }
        #listening .exercise-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        #listening .exercise-table th, #listening .exercise-table td { border: 1px solid #dfe6e9; padding: 1rem; text-align: left; vertical-align: top; }
        #listening .exercise-table th { background-color: #ecf0f1; font-weight: 600; }
        #listening .options-list { list-style-type: none; padding: 0; margin: 0; }
        #listening .options-list li { margin-bottom: 0.5rem; display: flex; align-items: center; }
        #listening .options-list label { cursor: pointer; margin-left: 8px; }
        #listening .feedback { font-size: 20px; margin-left: 10px; visibility: hidden; }
        #listening .feedback.correct { color: #27ae60; visibility: visible; }
        #listening .feedback.incorrect { color: #c0392b; visibility: visible; }
        #listening .submit-container { text-align: center; margin-top: 2rem; }
        #listening #submit-btn { background-color: #2ecc71; color: white; border: none; padding: 12px 30px; font-size: 16px; border-radius: 25px; cursor: pointer; transition: background-color 0.3s; }
        #listening #submit-btn:hover { background-color: #27ae60; }
        #listening .exercise-image { max-width: 50%; height: auto; border-radius: 8px; margin: 20px auto; display: block; box-shadow: 0 4px 10px rgba(0,0,0,0.08); }

        /* --- COUNTRIES TAB STYLES --- */
        #countries h2, #countries h3 { text-align: center; color: #0056b3; }
        #countries h2 { border-bottom: none; margin-bottom: 10px; } /* Override default h2 */
        #countries .listen-button-container { text-align: center; margin: 10px 0 30px 0; }
        #countries #listenButton { background-color: #28a745; color: white; padding: 12px 24px; border: none; border-radius: 5px; font-size: 1.1em; font-weight: bold; cursor: pointer; transition: background-color 0.3s ease, transform 0.1s ease; min-width: 150px; }
        #countries #listenButton:hover { background-color: #218838; }
        #countries #listenButton:active { transform: scale(0.98); }
        #countries #listenButton.playing { background-color: #dc3545; }
        #countries #listenButton.playing:hover { background-color: #c82333; }
        #countries .container { display: flex; justify-content: space-around; gap: 20px; margin-bottom: 30px; flex-wrap: wrap; }
        #countries .column { background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); width: 100%; }
        
        /* --- THIS IS THE FIX --- */
        @media (min-width: 768px) {
            #countries .column {
                flex: 1 0 45%; /* More robust sizing for columns */
            }
        }
        
        #countries .column h3 { border-bottom: 2px solid #0056b3; padding-bottom: 5px; text-align: left; }
        #countries .interactive-word { position: relative; color: #d63384; font-weight: bold; cursor: pointer; text-decoration: underline dotted; }
        #countries .interactive-word .tooltip { visibility: hidden; width: 250px; background-color: #555; color: #fff; text-align: left; border-radius: 6px; padding: 10px; position: absolute; z-index: 1; bottom: 125%; left: 50%; margin-left: -125px; opacity: 0; transition: opacity 0.3s; }
        #countries .interactive-word .tooltip::after { content: ""; position: absolute; top: 100%; left: 50%; margin-left: -5px; border-width: 5px; border-style: solid; border-color: #555 transparent transparent transparent; }
        #countries .interactive-word:hover .tooltip { visibility: visible; opacity: 1; }
        #countries .comparison-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        #countries .comparison-table th, #countries .comparison-table td { border: 1px solid #ddd; padding: 12px; text-align: left; vertical-align: top; }
        #countries .comparison-table th { background-color: #007bff; color: white; }
        #countries .row-header { cursor: pointer; user-select: none; width: 30%; }
        #countries .row-header:hover { background-color: #f2f2f2; }
        #countries .row-header .icon { float: right; font-weight: bold; transition: transform 0.2s ease-in-out; }
        #countries .row-header.active .icon { transform: rotate(45deg); }
        #countries .content-wrapper { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }

        /* --- Footer Styling --- */
        footer { text-align: center; margin-top: 40px; padding: 20px; font-size: 0.9em; color: #6c757d; border-top: 1px solid var(--border-color); }
    </style>
</head>
<body>

    <div class="main-container">
        <h1>Unit 1: Unity in Diversity</h1>

        <nav class="tab-nav">
            <button class="tab-button active" data-tab="reading">The way we look</button>
            <button class="tab-button" data-tab="exercises">Interactive Exercises</button>
            <a href="https://englished.github.io/descriptions-person-b12/" target="_blank" class="tab-button">Writing</a>
            <button class="tab-button" data-tab="listening">Welcome to my world</button>
            <button class="tab-button" data-tab="countries">A glimpse into my country</button>
        </nav>

        <div id="reading" class="tab-content active">
            <h2>THE WAY WE LOOK</h2>
            <p>Have you ever thought about why we look the way we do? What makes some people’s hair curly and others’ straight? Why is some people’s skin dark and others’ light? These are some of the questions we asked Ms. Susan Franz, an anthropologist, who talked to us about people and their characteristics.</p>
            <h3>The Interview</h3>
            <p><strong>Interviewer:</strong> Ms. Franz, why do people around the world look so different?</p>
            <p><strong>Ms. Franz:</strong> Well, think about the countries we live in. They differ greatly in <span class="clickable-word" data-word="terrain">terrain</span>, temperature, <span class="clickable-word" data-word="altitude">altitude</span> and <span class="clickable-word" data-word="vegetation">vegetation</span>. Yet, people have managed to make homes almost everywhere: <span class="clickable-word" data-word="barren">barren</span>, rocky mountain tops, icy, freezing plains, wet marshes, <span class="clickable-word" data-word="scorching">scorching</span> deserts. The people living in these different places have slowly become very different from each other. Their skin colour, the shape and size of their bodies and their characteristics have <span class="clickable-word" data-word="evolved">evolved</span> over the years to suit their surroundings.</p>
            <p><strong>Interviewer:</strong> Can you give us some examples?</p>
            <p><strong>Ms. Franz:</strong> Of course. A good example is skin colour. Scientists think that dark skins – which are rich in a <span class="clickable-word" data-word="substance">substance</span> called melanin – offer good protection against the burning rays of the sun. Very dark, <span class="clickable-word" data-word="curly">curly</span> hair also offers good insulation from the sun and heat. In northern countries, where the rays of the sun are weaker, people don’t need dark skin. Their <span class="clickable-word" data-word="pale">pale</span> <span class="clickable-word" data-word="complexion">complexion</span> allows the skin to absorb the sun’s rays easily in order to make vitamin D.</p>
            <p><strong>Interviewer:</strong> Facial characteristics are also very different. Why?</p>
            <p><strong>Ms. Franz:</strong> Well, the key word here again is ‘<span class="clickable-word" data-word="adaptation">adaptation</span>’. In extremely cold weather, ears and noses are often the first parts of the body to suffer from frostbite. That’s why people who live in very cold temperatures have facial characteristics that help them survive the <span class="clickable-word" data-word="harsh">harsh</span> weather. Their faces are flat, and their noses are also small and flat. They also have an extra layer of fat in their <span class="clickable-word" data-word="eyelids">eyelids</span> which gives them <span class="clickable-word" data-word="slanted">slanted</span> eyes.</p>
            <p><strong>Interviewer:</strong> That’s very interesting! What about body size and height?</p>
            <p><strong>Ms. Franz:</strong> Well, again scientists have found that people who live in hot, dry climates are often tall and thin. This lean type of body helps heat escape more quickly. People from cold <span class="clickable-word" data-word="regions">regions</span>, on the other hand, tend to have more <span class="clickable-word" data-word="sturdy">sturdy</span> bodies, covered by a layer of protective fat.</p>
            <p><strong>Interviewer:</strong> So, if we move to a northern country, will our skin become pale?</p>
            <p><strong>Ms. Franz:</strong> Of course not! People’s bodies have slowly changed over thousands of years. Who knows what we will look like ten thousand years from now!...</p>
            
            <hr>

            <div class="quiz-container">
                <h2>Check Your Understanding</h2>
                <ol>
                    <li>
                        What is the main theme of the interview with Ms. Franz?
                        <div class="quiz-option"><input type="radio" name="q1" value="a"><label for="q1a">The history of human migration</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q1" value="b" data-correct="true"><label for="q1b">How humans have adapted to different environments</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q1" value="c"><label for="q1c">The cultural differences between people</label><span class="quiz-feedback"></span></div>
                    </li>
                    <li>
                        What is the function of melanin in the skin?
                        <div class="quiz-option"><input type="radio" name="q2" value="a"><label for="q2a">To help absorb vitamin D</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q2" value="b"><label for="q2b">To keep the skin pale</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q2" value="c" data-correct="true"><label for="q2c">To protect against the sun's burning rays</label><span class="quiz-feedback"></span></div>
                    </li>
                    <li>
                        Why do people in very cold climates often have flat faces and small noses?
                        <div class="quiz-option"><input type="radio" name="q3" value="a" data-correct="true"><label for="q3a">To help prevent frostbite</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q3" value="b"><label for="q3b">To make them better hunters</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q3" value="c"><label for="q3c">It is a random genetic trait</label><span class="quiz-feedback"></span></div>
                    </li>
                    <li>
                        What body type is common for people living in hot, dry climates?
                        <div class="quiz-option"><input type="radio" name="q4" value="a"><label for="q4a">Short and sturdy</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q4" value="b" data-correct="true"><label for="q4b">Tall and thin</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q4" value="c"><label for="q4c">Muscular and heavy</label><span class="quiz-feedback"></span></div>
                    </li>
                    <li>
                        According to the text, what gives some people slanted eyes?
                        <div class="quiz-option"><input type="radio" name="q5" value="a" data-correct="true"><label for="q5a">An extra layer of fat in their eyelids</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q5" value="b"><label for="q5b">The shape of their skull</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q5" value="c"><label for="q5c">The high altitude where they live</label><span class="quiz-feedback"></span></div>
                    </li>
                    <li>
                        What advantage does pale skin offer in northern countries?
                        <div class="quiz-option"><input type="radio" name="q6" value="a"><label for="q6a">It provides better insulation against the cold</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q6" value="b"><label for="q6b">It is less prone to sunburn</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q6" value="c" data-correct="true"><label for="q6c">It absorbs the sun's rays easily to make vitamin D</label><span class="quiz-feedback"></span></div>
                    </li>
                    <li>
                       How quickly do these adaptations happen?
                        <div class="quiz-option"><input type="radio" name="q7" value="a"><label for="q7a">Within a person's lifetime</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q7" value="b" data-correct="true"><label for="q7b">Slowly, over thousands of years</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q7" value="c"><label for="q7c">Instantly, when moving to a new place</label><span class="quiz-feedback"></span></div>
                    </li>
                    <li>
                        Which word does Ms. Franz use as the "key word" for why people look different?
                        <div class="quiz-option"><input type="radio" name="q8" value="a"><label for="q8a">Vegetation</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q8" value="b"><label for="q8b">Melanin</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q8" value="c" data-correct="true"><label for="q8c">Adaptation</label><span class="quiz-feedback"></span></div>
                    </li>
                    <li>
                        Besides protection, what does dark, curly hair offer?
                        <div class="quiz-option"><input type="radio" name="q9" value="a" data-correct="true"><label for="q9a">Insulation from the sun and heat</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q9" value="b"><label for="q9b">A way to absorb more vitamin D</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q9" value="c"><label for="q9c">Protection from the cold</label><span class="quiz-feedback"></span></div>
                    </li>
                    <li>
                        Why is a tall, thin body type advantageous in hot climates?
                        <div class="quiz-option"><input type="radio" name="q10" value="a"><label for="q10a">It provides more protection from the sun</slabel><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q10" value="b"><label for="q10b">It is better for running long distances</label><span class="quiz-feedback"></span></div>
                        <div class="quiz-option"><input type="radio" name="q10" value="c" data-correct="true"><label for="q10c">It helps heat escape from the body more quickly</label><span class="quiz-feedback"></span></div>
                    </li>
                </ol>
            </div>
        </div>

        <div id="exercises" class="tab-content">
            <h2>Exercise 1.1: Match the Words with Their Meanings</h2>
            <p>Drag the words from the box and drop them next to their correct meaning.</p>
            <div id="source-words-1" class="drag-container"></div>
            <div class="matching-area">
                <div class="drop-zone" data-match-id="g"></div><div class="term">a. develop gradually and naturally</div>
                <div class="drop-zone" data-match-id="a"></div><div class="term">b. the use of materials to prevent loss of heat</div>
                <div class="drop-zone" data-match-id="e"></div><div class="term">c. take in heat, light, etc.</div>
                <div class="drop-zone" data-match-id="b"></div><div class="term">d. area</div>
                <div class="drop-zone" data-match-id="c"></div><div class="term">e. everything around a place</div>
                <div class="drop-zone" data-match-id="f"></div><div class="term">f. height above sea level</div>
                <div class="drop-zone" data-match-id="d"></div><div class="term">g. the process of becoming suitable for a new situation</div>
            </div>
            <hr>
            <h2>Exercise 1.2: Complete the Sentences</h2>
            <p>Choose the correct word from the dropdown list to complete each sentence.</p>
            <ul class="sentence-list">
                <li>1. Dry sand can <select class="dropdown-q" data-answer="absorb"><option value="">-- select --</option><option value="adaptation">adaptation</option><option value="altitude">altitude</option><option value="surroundings">surroundings</option><option value="evolve">evolve</option><option value="insulation">insulation</option><option value="absorb">absorb</option><option value="region">region</option></select> water. <span class="feedback-icon"></span></li>
                <li>2. Evolution occurs as a result of <select class="dropdown-q" data-answer="adaptation"><option value="">-- select --</option><option value="adaptation">adaptation</option><option value="altitude">altitude</option><option value="surroundings">surroundings</option><option value="evolve">evolve</option><option value="insulation">insulation</option><option value="absorb">absorb</option><option value="region">region</option></select> to new environments. <span class="feedback-icon"></span></li>
                <li>3. It's important that buildings should fit in with their <select class="dropdown-q" data-answer="surroundings"><option value="">-- select --</option><option value="adaptation">adaptation</option><option value="altitude">altitude</option><option value="surroundings">surroundings</option><option value="evolve">evolve</option><option value="insulation">insulation</option><option value="absorb">absorb</option><option value="region">region</option></select>. <span class="feedback-icon"></span></li>
                <li>4. We are now flying at an <select class="dropdown-q" data-answer="altitude"><option value="">-- select --</option><option value="adaptation">adaptation</option><option value="altitude">altitude</option><option value="surroundings">surroundings</option><option value="evolve">evolve</option><option value="insulation">insulation</option><option value="absorb">absorb</option><option value="region">region</option></select> of 10,000 metres. <span class="feedback-icon"></span></li>
                <li>5. Plants and animals <select class="dropdown-q" data-answer="evolve"><option value="">-- select --</option><option value="adaptation">adaptation</option><option value="altitude">altitude</option><option value="surroundings">surroundings</option><option value="evolve">evolve</option><option value="insulation">insulation</option><option value="absorb">absorb</option><option value="region">region</option></select> over millions of years to suit their environment. <span class="feedback-icon"></span></li>
                <li>6. Animals' thick fur provides very good <select class="dropdown-q" data-answer="insulation"><option value="">-- select --</option><option value="adaptation">adaptation</option><option value="altitude">altitude</option><option value="surroundings">surroundings</option><option value="evolve">evolve</option><option value="insulation">insulation</option><option value="absorb">absorb</option><option value="region">region</option></select> against the arctic cold. <span class="feedback-icon"></span></li>
            </ul>
            <hr>
            <h2>Exercise 1.3: Categorize the Words</h2>
            <p>Drag the words from the box and drop them into the correct category.</p>
            <div id="source-words-2" class="drag-container"></div>
            <div class="categories">
                <div class="category"><h3>Age</h3><div class="drop-zone" data-category-id="age"></div></div>
                <div class="category"><h3>Body</h3><div class="drop-zone" data-category-id="body"></div></div>
                <div class="category"><h3>Hair</h3><div class="drop-zone" data-category-id="hair"></div></div>
                <div class="category"><h3>Face</h3><div class="drop-zone" data-category-id="face"></div></div>
                <div class="category"><h3>Skin</h3><div class="drop-zone" data-category-id="skin"></div></div>
                <div class="category"><h3>Nose</h3><div class="drop-zone" data-category-id="nose"></div></div>
                <div class="category"><h3>Mouth</h3><div class="drop-zone" data-category-id="mouth"></div></div>
                <div class="category"><h3>Eyes</h3><div class="drop-zone" data-category-id="eyes"></div></div>
            </div>

            <hr>
            <h2>Exercise 1.4: Adjective Derivatives</h2>
            <p>Click a positive word to reveal its opposite. Then click the negative word to reveal the corresponding nouns.</p>
             <div class="adjective-game-container">
                <table class="adjective-table">
                    <thead>
                        <tr>
                            <th scope="col">Positive Adjective</th>
                            <th scope="col">Negative Adjective</th>
                            <th scope="col">Corresponding Nouns</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="positive-adj">modest</td>
                            <td class="negative-adj hidden">arrogant</td>
                            <td class="noun-form hidden">modesty / arrogance</td>
                        </tr>
                        <tr>
                            <td class="positive-adj">generous</td>
                            <td class="negative-adj hidden">mean</td>
                            <td class="noun-form hidden">generosity / meanness</td>
                        </tr>
                        <tr>
                            <td class="positive-adj">polite</td>
                            <td class="negative-adj hidden">rude</td>
                            <td class="noun-form hidden">politeness / rudeness</td>
                        </tr>
                        <tr>
                            <td class="positive-adj">honest</td>
                            <td class="negative-adj hidden">dishonest</td>
                            <td class="noun-form hidden">honesty / dishonesty</td>
                        </tr>
                        <tr>
                            <td class="positive-adj">patient</td>
                            <td class="negative-adj hidden">impatient</td>
                            <td class="noun-form hidden">patience / impatience</td>
                        </tr>
                        <tr>
                            <td class="positive-adj">hard-working</td>
                            <td class="negative-adj hidden">lazy</td>
                            <td class="noun-form hidden">hard work / laziness</td>
                        </tr>
                        <tr>
                            <td class="positive-adj">cheerful</td>
                            <td class="negative-adj hidden">miserable</td>
                            <td class="noun-form hidden">cheerfulness / misery</td>
                        </tr>
                        <tr>
                            <td class="positive-adj">calm</td>
                            <td class="negative-adj hidden">nervous</td>
                            <td class="noun-form hidden">calmness / nervousness</td>
                        </tr>
                        <tr>
                            <td class="positive-adj">sociable</td>
                            <td class="negative-adj hidden">shy</td>
                            <td class="noun-form hidden">sociability / shyness</td>
                        </tr>
                         <tr style="border-bottom: none;">
                            <td class="positive-adj">sensitive</td>
                            <td class="negative-adj hidden">thoughtless</td>
                            <td class="noun-form hidden">sensitivity / thoughtlessness</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="button-container">
                <button id="reset-btn">Reset All Exercises</button>
            </div>
        </div>

        <div id="listening" class="tab-content">
            <h2>Welcome to my world 🌍</h2>
            <p class="instructions">Listen to Maria Dolores talk about her country, then tick all the correct items in the table below.</p>
    
            <img src="1.png" alt="Welcome to My World: Spain - An illustration of Spanish culture including flamenco, paella, and art." class="exercise-image">
    
            <div class="audio-player">
                <audio id="student-audio" src="dolores.mp3"></audio>
                <button id="toggle-audio">Listen ▶️</button>
            </div>
    
            <form id="exercise-form">
                <table class="exercise-table">
                    <thead>
                        <tr>
                            <th>Name of country</th>
                            <th>Greeting</th>
                            <th>Food/Drinks</th>
                            <th>Entertainment</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <ul class="options-list">
                                    <li>
                                        <input type="checkbox" id="country1" value="spain">
                                        <label for="country1">Spain</label>
                                        <span class="feedback" data-feedback-for="country1"></span>
                                    </li>
                                    <li>
                                        <input type="checkbox" id="country2" value="italy">
                                        <label for="country2">Italy</label>
                                        <span class="feedback" data-feedback-for="country2"></span>
                                     </li>
                                     <li>
                                        <input type="checkbox" id="country3" value="france">
                                        <label for="country3">France</label>
                                        <span class="feedback" data-feedback-for="country3"></span>
                                    </li>
                                </ul>
                            </td>
                            <td>
                               <ul class="options-list">
                                    <li>
                                        <input type="checkbox" id="greeting1" value="buenos-dias">
                                        <label for="greeting1">'Buenos dias'</label>
                                        <span class="feedback" data-feedback-for="greeting1"></span>
                                    </li>
                                    <li>
                                        <input type="checkbox" id="greeting2" value="hola">
                                        <label for="greeting2">'Hola'</label>
                                        <span class="feedback" data-feedback-for="greeting2"></span>
                                    </li>
                                    <li>
                                        <input type="checkbox" id="greeting3" value="bonjour">
                                        <label for="greeting3">'Bonjour'</label>
                                        <span class="feedback" data-feedback-for="greeting3"></span>
                                    </li>
                                </ul>
                            </td>
                            <td>
                               <ul class="options-list">
                                    <li>
                                        <input type="checkbox" id="food1" value="paella">
                                        <label for="food1">Paella</label>
                                        <span class="feedback" data-feedback-for="food1"></span>
                                    </li>
                                    <li>
                                        <input type="checkbox" id="food2" value="tapas">
                                        <label for="food2">Tapas</label>
                                        <span class="feedback" data-feedback-for="food2"></span>
                                    </li>
                                    <li>
                                        <input type="checkbox" id="food3" value="pizza">
                                        <label for="food3">Pizza</label>
                                        <span class="feedback" data-feedback-for="food3"></span>
                                    </li>
                                     <li>
                                        <input type="checkbox" id="food4" value="sangria">
                                        <label for="food4">Sangria</label>
                                        <span class="feedback" data-feedback-for="food4"></span>
                                    </li>
                                </ul>
                            </td>
                            <td>
                               <ul class="options-list">
                                    <li>
                                        <input type="checkbox" id="ent1" value="flamenco">
                                        <label for="ent1">Flamenco dancing</label>
                                        <span class="feedback" data-feedback-for="ent1"></span>
                                    </li>
                                    <li>
                                        <input type="checkbox" id="ent2" value="football">
                                        <label for="ent2">Football</label>
                                        <span class="feedback" data-feedback-for="ent2"></span>
                                    </li>
                                    <li>
                                        <input type="checkbox" id="ent3" value="cafes">
                                        <label for="ent3">Cafes</label>
                                        <span class="feedback" data-feedback-for="ent3"></span>
                                    </li>
                                    <li>
                                        <input type="checkbox" id="ent4" value="sumo">
                                        <label for="ent4">Sumo wrestling</label>
                                        <span class="feedback" data-feedback-for="ent4"></span>
                                    </li>
                                    <li>
                                        <input type="checkbox" id="ent5" value="art-galleries">
                                        <label for="ent5">Art galleries</label>
                                        <span class="feedback" data-feedback-for="ent5"></span>
                                    </li>
                                </ul>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="submit-container">
                    <button type="submit" id="submit-btn">Submit Answers</button>
                </div>
            </form>
        </div>
        
        <div id="countries" class="tab-content">
            <h2>A glimpse into my country</h2>

            <div class="listen-button-container">
                <button id="listenButton">Listen 🎧</button>
            </div>
            <audio id="countryAudio" src="country.mp3"></audio>
        
            <div class="container">
                <div class="column">
                    <h3>🇯🇵 Yoko from Japan</h3>
                    <p>
                        Hello everyone! I'm Yoko. I'm from Tokyo, the capital city of Japan. The <span class="interactive-word">customs<span class="tooltip"><b>Meaning:</b> A traditional way of behaving specific to a society.<br><b>Example:</b> Taking off your shoes indoors is a Japanese custom.</span></span> of my country are somewhat different from those of the countries of the West. For example, we <span class="interactive-word">bow<span class="tooltip"><b>Meaning:</b> To bend your head or body forward as a sign of respect or greeting.<br><b>Example:</b> We bow to greet someone in Japan.</span></span> to greet someone and we don't like standing too close to each other. If you say 'Ohayō gozaimasu' to someone, you mean 'Good morning', and we young people often say 'Genki?' which means 'Are you well?'. Body language is very important, too. If you shake your hand from side to side, you mean 'no' and pointing to your nose means 'me'.
                    </p>
                    <p>
                        You all know traditional Japanese dishes such as <span class="interactive-word">sushi<span class="tooltip"><b>Meaning:</b> A dish of vinegared rice combined with other ingredients like seafood and vegetables.<br><b>Example:</b> We had sushi for dinner last night.</span></span>, <span class="interactive-word">tempura<span class="tooltip"><b>Meaning:</b> A dish of seafood or vegetables that have been battered and deep-fried.<br><b>Example:</b> The shrimp tempura was light and crispy.</span></span> and noodles and you probably know that we use <span class="interactive-word">chopsticks<span class="tooltip"><b>Meaning:</b> A pair of small, thin sticks used for eating in many Asian countries.<br><b>Example:</b> It takes practice to become skilled with chopsticks.</span></span> to eat our meals. We eat sitting on mats on the floor; therefore, our floors have to be very clean. To keep them clean, we always take off our shoes and change into special slippers when we enter the house.
                    </p>
                    <p>
                        Sports that are very popular in Japan include <span class="interactive-word">judo<span class="tooltip"><b>Meaning:</b> A modern martial art focused on throws and grappling.<br><b>Example:</b> He is a black belt in judo.</span></span>, <span class="interactive-word">kendo<span class="tooltip"><b>Meaning:</b> A martial art using bamboo swords and protective armour.<br><b>Example:</b> Kendo requires discipline and focus.</span></span>, <span class="interactive-word">karate<span class="tooltip"><b>Meaning:</b> A martial art that uses punching, kicking, and blocking techniques.<br><b>Example:</b> She practices karate for self-defense.</span></span> and <span class="interactive-word">sumo wrestling<span class="tooltip"><b>Meaning:</b> Japan's national sport, where two wrestlers try to force each other out of a ring.<br><b>Example:</b> Sumo wrestling has a history of over 1,000 years.</span></span>, our national sport, which has a history of more than 1,000 years! Young people also enjoy baseball, football, volleyball and tennis. Finally, two forms of traditional Japanese theatre, <span class="interactive-word">Noh<span class="tooltip"><b>Meaning:</b> A classical form of Japanese musical drama with masked actors.<br><b>Example:</b> A Noh performance can be very slow and symbolic.</span></span> and <span class="interactive-word">Kabuki<span class="tooltip"><b>Meaning:</b> A classical Japanese dance-drama known for its dramatic style and elaborate make-up.<br><b>Example:</b> Kabuki actors often wear striking costumes.</span></span>, continue to thrive in my country today.
                    </p>
                </div>
                <div class="column">
                    <h3>🇫🇷 Pierre from France</h3>
                    <p>
                        'Salut', I'm Pierre and I'm from Paris, the capital city of France! In my country we say 'Bonjour' for 'Good morning' and 'Comment allez-vous?' for 'How are you?'. Like Spanish people, when we greet each other, we shake hands and usually kiss 3 times!
                    </p>
                    <p>
                        We're one of the largest <span class="interactive-word">producers<span class="tooltip"><b>Meaning:</b> A person, company, or country that makes or grows goods for sale.<br><b>Example:</b> France is a major producer of wine and cheese.</span></span> of wine in the world and famous for our '<span class="interactive-word">haute cuisine<span class="tooltip"><b>Meaning:</b> High-quality cooking, especially in the traditional French style.<br><b>Example:</b> That restaurant is known for its exquisite haute cuisine.</span></span>'. One taste of a <span class="interactive-word">crêpe<span class="tooltip"><b>Meaning:</b> A very thin pancake that can be filled with sweet or savoury ingredients.<br><b>Example:</b> I love a warm crêpe with Nutella and bananas.</span></span> or a <span class="interactive-word">croissant<span class="tooltip"><b>Meaning:</b> A buttery, flaky, crescent-shaped pastry.<br><b>Example:</b> A fresh croissant is a perfect start to the day in Paris.</span></span>, and you'll never forget it!
                    </p>
                    <p>
                        The French love doing sport and keeping fit. Some of the most popular sports in my country are football, cycling, skiing, tennis and <span class="interactive-word">pétanque<span class="tooltip"><b>Meaning:</b> A traditional game where players throw metal balls to get as close as possible to a small wooden ball.<br><b>Example:</b> We spent the afternoon playing pétanque in the park.</span></span> - a traditional game played with metal balls.
                    </p>
                    <p>
                        Culture and the arts are extremely important in our everyday life. We celebrate local festivals through music and dance throughout the year. We also appreciate a visit to the theatre, the opera or the many famous museums, such as the <span class="interactive-word">Louvre<span class="tooltip"><b>Meaning:</b> The world's largest art museum and a historic monument in Paris.<br><b>Example:</b> You can see the Mona Lisa at the Louvre.</span></span>, home to the world-famous painting 'Mona Lisa', or the Orsay museum to admire the paintings of Renoir, Monet and Degas, some of the greatest <span class="interactive-word">Impressionist<span class="tooltip"><b>Meaning:</b> Relating to a 19th-century art movement that used visible brush strokes to show the changing effects of light.<br><b>Example:</b> Monet is one of the most famous Impressionist artists.</span></span> artists....
                    </p>
                </div>
            </div>
        
            <hr>
        
            <h3>Cultural Aspects Comparison</h3>
            <p style="text-align: center;">Click on a category to reveal the comparison.</p>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Cultural Aspect</th>
                        <th>🇯🇵 Japan (Yoko)</th>
                        <th>🇫🇷 France (Pierre)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="row-header"><strong>Greetings & Customs</strong> <span class="icon">+</span></td>
                        <td><div class="content-wrapper">Bowing, specific phrases ('Ohayō gozaimasu'), maintaining personal space, body language (hand gestures), and removing shoes indoors.</div></td>
                        <td><div class="content-wrapper">Shaking hands, kissing on the cheeks, and specific phrases ('Bonjour').</div></td>
                    </tr>
                    <tr>
                        <td class="row-header"><strong>Food</strong> <span class="icon">+</span></td>
                        <td><div class="content-wrapper">Sushi, tempura, noodles. Eating with chopsticks while sitting on mats on the floor.</div></td>
                        <td><div class="content-wrapper">'Haute cuisine', crêpes, croissants, and wine production.</div></td>
                    </tr>
                    <tr>
                        <td class="row-header"><strong>Sports</strong> <span class="icon">+</span></td>
                        <td><div class="content-wrapper">Traditional sports like judo, kendo, karate, and sumo wrestling. Also popular are baseball, football, volleyball, and tennis.</div></td>
                        <td><div class="content-wrapper">Football, cycling, skiing, tennis. A traditional game called pétanque.</div></td>
                    </tr>
                     <tr>
                        <td class="row-header"><strong>Arts & Entertainment</strong> <span class="icon">+</span></td>
                        <td><div class="content-wrapper">Traditional theatre forms like Noh and Kabuki.</div></td>
                        <td><div class="content-wrapper">Local festivals with music and dance. Visits to the theatre, opera, and famous museums like the Louvre.</div></td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
    
    <div id="modal-backdrop" class="modal-backdrop"></div>
    <div id="info-modal" class="modal">
        <div class="modal-header"><h2 id="modal-title"></h2><span id="modal-close" class="modal-close">&times;</span></div>
        <div id="modal-content" class="modal-content"></div>
    </div>

    <footer>
        ✨✍️ Created by Panagiotis Domvros, English and Drama Teacher, All Rights Reserved ✍️✨
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- TAB SWITCHING LOGIC ---
            const tabs = document.querySelectorAll('.tab-button[data-tab]');
            const tabContents = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(item => item.classList.remove('active'));
                    tabContents.forEach(item => item.classList.remove('active'));
                    tab.classList.add('active');
                    document.getElementById(tab.dataset.tab).classList.add('active');
                });
            });

            // --- READING TEXT MODAL LOGIC ---
            const wordData = {
                terrain: { title: "Terrain", definition: "The physical features of an area of land.", derivatives: ["All-terrain (adjective): Designed to be used on any type of ground."], collocations: ["<b>Adjectives:</b> difficult, rough, rugged, rocky, mountainous, hilly, flat, varied.", "<b>Verbs:</b> cross, cover, navigate, survey."], wordFamily: ["<b>Territory:</b> An area of land under the jurisdiction of a ruler or state.", "<b>Terrestrial:</b> Relating to the Earth or to land.", "<b>Subterranean:</b> Existing or occurring under the earth's surface."] },
                altitude: { title: "Altitude", definition: "The height of an object or point in relation to sea level or ground level.", derivatives: ["<b>Altitudinal</b> (adjective): Relating to altitude."], antonyms: ["depth", "lowness"], collocations: ["<b>Adjectives:</b> high, low, maximum, cruising.", "<b>Verbs:</b> gain, lose, reach, maintain, fly at an."], wordFamily: ["<b>Exalt:</b> To hold someone or something in very high regard."] },
                vegetation: { title: "Vegetation", definition: "Plants found in a particular area or habitat.", derivatives: ["<b>Vegetate</b> (verb): To live in a dull, inactive way.", "<b>Vegetative</b> (adjective): Relating to vegetation or plant life."], collocations: ["<b>Adjectives:</b> lush, dense, sparse, natural, native, tropical.", "<b>Verbs:</b> clear, grow, support, destroy."] },
                barren: { title: "Barren", definition: "(Of land) too poor to produce much or any vegetation; bleak and lifeless.", derivatives: ["<b>Barrenness</b> (noun): The state of being unproductive or unfruitful."], antonyms: ["fertile", "fruitful", "productive", "lush"], collocations: ["barren land", "barren landscape", "barren wasteland", "barren rock."] },
                scorching: { title: "Scorching", definition: "Very hot.", derivatives: ["<b>Scorch</b> (verb): To burn the surface of something.", "<b>Scorcher</b> (noun): An extremely hot day."], antonyms: ["freezing", "cold", "icy", "chilly"], collocations: ["scorching heat", "scorching sun", "scorching temperatures."] },
                evolved: { title: "Evolved", definition: "Developed gradually from a simple to a more complex form.", derivatives: ["<b>Evolve</b> (verb): The base form.", "<b>Evolution</b> (noun): The process of gradual development.", "<b>Evolutionary</b> (adjective): Relating to the process of evolution."], antonyms: ["regressed", "degenerated", "devolved"], collocations: ["<b>Adverbs:</b> slowly, gradually, rapidly.", "<b>Prepositions:</b> evolved from, evolved into."], wordFamily: ["<b>Involve:</b> To include something as a necessary part.", "<b>Revolve:</b> To move in a circle on a central axis."] },
                substance: { title: "Substance", definition: "A particular kind of matter with uniform properties.", derivatives: ["<b>Substantial</b> (adjective): Of considerable importance or size.", "<b>Substantiate</b> (verb): To provide evidence to prove the truth of something."], antonyms: ["formlessness", "nothingness"], collocations: ["<b>Adjectives:</b> chemical, illegal, dangerous, natural, sticky.", "<b>Verbs:</b> contain, lack, test a."] },
                curly: { title: "Curly", definition: "Made, growing, or arranged in curls or curves.", derivatives: ["<b>Curl</b> (noun/verb): A curved piece of hair; to form into a curl.", "<b>Curliness</b> (noun): The state of being curly."], antonyms: ["straight"], collocations: ["naturally curly", "tightly curly", "curly hair", "curly fries."] },
                pale: { title: "Pale", definition: "Light in color or shade; containing little color.", derivatives: ["<b>Paleness</b> (noun): The quality of being light in color."], antonyms: ["dark", "vibrant", "ruddy", "flushed"], collocations: ["<b>Verbs:</b> turn pale, go pale.", "<b>Nouns:</b> pale skin, pale complexion, pale imitation."], wordFamily: ["<b>Pallid:</b> Pale, typically because of poor health.", "<b>Appall:</b> To greatly dismay or horrify."] },
                complexion: { title: "Complexion", definition: "The natural color, texture, and appearance of a person's skin, especially on the face.", derivatives: ["<b>Complexioned</b> (adjective): Used in compounds (e.g., fair-complexioned)."], collocations: ["<b>Adjectives:</b> clear, fair, dark, pale, ruddy, sallow, healthy, glowing, flawless.", "<b>Verbs:</b> improve, ruin."] },
                adaptation: { title: "Adaptation", definition: "The process of changing to become better suited to an environment.", derivatives: ["<b>Adapt</b> (verb): To become adjusted to new conditions.", "<b>Adaptable</b> (adjective): Able to adjust.", "<b>Adaptive</b> (adjective): Characterized by adaptation."], antonyms: ["maladaptation", "rigidity", "inflexibility"], collocations: ["<b>Adjectives:</b> successful, rapid, gradual, evolutionary, cultural.", "<b>Nouns:</b> adaptation process, adaptation strategy."], wordFamily: ["<b>Adept:</b> Very skilled at something.", "<b>Aptitude:</b> A natural ability to do something."] },
                harsh: { title: "Harsh", definition: "Unpleasantly rough, cruel, or severe.", derivatives: ["<b>Harshly</b> (adverb): In a severe manner.", "<b>Harshness</b> (noun): The quality of being harsh."], antonyms: ["mild", "gentle", "soft", "pleasant", "lenient"], collocations: ["harsh conditions", "harsh winter", "harsh reality", "harsh criticism", "harsh chemicals", "harsh lighting."] },
                eyelids: { title: "Eyelids", definition: "The pieces of skin above and below the eye that cover it when you close it.", collocations: ["<b>Adjectives:</b> heavy, drooping, swollen, upper, lower.", "<b>Verbs:</b> close, open, lower, raise, flutter."] },
                slanted: { title: "Slanted", definition: "Sloping or leaning in a particular direction; can also mean presenting information in a biased way.", derivatives: ["<b>Slant</b> (verb/noun): To slope; a sloping position or a particular point of view."], antonyms: ["level", "straight", "horizontal", "unbiased", "objective"], collocations: ["slanted eyes", "slanted roof", "slanted text", "slanted viewpoint."] },
                regions: { title: "Regions", definition: "Areas of a country or the world having definable characteristics but not always fixed boundaries.", derivatives: ["<b>Regional</b> (adjective): Relating to a region.", "<b>Regionally</b> (adverb): In a regional manner."], collocations: ["<b>Adjectives:</b> mountainous, polar, tropical, remote, northern, coastal, rural."] },
                sturdy: { title: "Sturdy", definition: "Strongly and solidly built or made.", derivatives: ["<b>Sturdily</b> (adverb): In a strong way.", "<b>Sturdiness</b> (noun): The quality of being strong and solid."], antonyms: ["weak", "flimsy", "fragile", "delicate", "unsteady"], collocations: ["sturdy construction", "sturdy boots", "sturdy build", "sturdy table", "sturdy resistance."] }
            };
            (function() {
                const modal = document.getElementById('info-modal');
                const backdrop = document.getElementById('modal-backdrop');
                const modalTitle = document.getElementById('modal-title');
                const modalContent = document.getElementById('modal-content');
                const closeButton = document.getElementById('modal-close');
                const clickableWords = document.querySelectorAll('.clickable-word');

                function openModal(wordKey) {
                    const data = wordData[wordKey]; if (!data) return;
                    modalTitle.textContent = data.title;
                    let contentHTML = `<p><strong>Definition:</strong> ${data.definition}</p>`;
                    if (data.derivatives) { contentHTML += '<h3>Derivatives</h3><ul>'; data.derivatives.forEach(item => contentHTML += `<li>${item}</li>`); contentHTML += '</ul>'; }
                    if (data.antonyms) { contentHTML += '<h3>Antonyms</h3><ul>'; data.antonyms.forEach(item => contentHTML += `<li>${item}</li>`); contentHTML += '</ul>'; }
                    if (data.collocations) { contentHTML += '<h3>Collocations</h3><ul>'; data.collocations.forEach(item => contentHTML += `<li>${item}</li>`); contentHTML += '</ul>'; }
                    if (data.wordFamily) { contentHTML += '<h3>Word Family</h3><ul>'; data.wordFamily.forEach(item => contentHTML += `<li>${item}</li>`); contentHTML += '</ul>'; }
                    modalContent.innerHTML = contentHTML;
                    modal.style.display = 'flex'; backdrop.style.display = 'block';
                }
                function closeModal() { modal.style.display = 'none'; backdrop.style.display = 'none'; }
                clickableWords.forEach(word => word.addEventListener('click', e => openModal(e.target.getAttribute('data-word'))));
                closeButton.addEventListener('click', closeModal);
                backdrop.addEventListener('click', closeModal);
                window.addEventListener('keydown', e => { if (e.key === 'Escape' && modal.style.display === 'flex') closeModal(); });
            })();


            // --- MULTIPLE CHOICE QUIZ LOGIC ---
            (function() {
                const quizOptions = document.querySelectorAll('.quiz-option input[type="radio"]');
                quizOptions.forEach(radio => {
                    radio.addEventListener('change', (e) => {
                        const currentQuestionName = e.target.name;
                        const selectedOption = e.target;
                        const allOptionsForQuestion = document.querySelectorAll(`input[name="${currentQuestionName}"]`);
                        
                        allOptionsForQuestion.forEach(option => {
                           const feedbackSpan = option.nextElementSibling.nextElementSibling;
                           feedbackSpan.textContent = ''; // Clear all feedback for the question first
                        });
                        
                        const feedbackSpan = selectedOption.nextElementSibling.nextElementSibling;
                        if (selectedOption.hasAttribute('data-correct')) {
                            feedbackSpan.textContent = '✔️ Correct!';
                            feedbackSpan.className = 'quiz-feedback correct';
                            allOptionsForQuestion.forEach(opt => { if (opt !== selectedOption) opt.disabled = true; }); // Disable other options
                        } else {
                            feedbackSpan.textContent = '❌ Incorrect, try again.';
                            feedbackSpan.className = 'quiz-feedback incorrect';
                        }
                    });
                });
            })();
            
            // --- WORKBOOK EXERCISES LOGIC ---
            (function() {
                const words1 = [ { id: 'word-1', text: 'adaptation', match: 'g' }, { id: 'word-2', text: 'altitude', match: 'f' }, { id: 'word-3', text: 'surroundings', match: 'e' }, { id: 'word-4', text: 'evolve', match: 'a' }, { id: 'word-5', text: 'insulation', match: 'b' }, { id: 'word-6', text: 'absorb', match: 'c' }, { id: 'word-7', text: 'region', match: 'd' } ];
                const words2 = [ { id: 'cat-1', text: 'elderly', category: 'age' }, { id: 'cat-2', text: 'thin/thick eyebrows', category: 'eyes' }, { id: 'cat-3', text: 'wavy', category: 'hair' }, { id: 'cat-4', text: 'wears braces', category: 'mouth' }, { id: 'cat-5', text: 'adolescent', category: 'age' }, { id: 'cat-6', text: 'upturned', category: 'nose' }, { id: 'cat-7', text: 'plump', category: 'body' }, { id: 'cat-8', text: 'wrinkled', category: 'skin' }, { id: 'cat-9', text: 'slim', category: 'body' }, { id: 'cat-10', text: 'spiky', category: 'hair' }, { id: 'cat-11', text: 'square', category: 'face' }, { id: 'cat-12', text: 'crooked', category: 'mouth' }, { id: 'cat-13', text: 'tanned', category: 'skin' }, { id: 'cat-14', text: 'hazel', category: 'eyes' } ];
                let draggedItem = null; const scrollSpeed = 15; const scrollZone = 80;
                function handleDragScroll(e) { const y = e.clientY; if (y < scrollZone) { window.scrollBy(0, -scrollSpeed); } else if (y > window.innerHeight - scrollZone) { window.scrollBy(0, scrollSpeed); } }
                function initializeDragAndDrop() {
                    document.querySelectorAll('#exercises .draggable').forEach(draggable => {
                        draggable.addEventListener('dragstart', (e) => { draggedItem = e.target; draggedItem.classList.add('dragging'); document.addEventListener('dragover', handleDragScroll); });
                        draggable.addEventListener('dragend', () => { if (draggedItem) { draggedItem.classList.remove('dragging'); } document.removeEventListener('dragover', handleDragScroll); draggedItem = null; });
                    });
                    document.querySelectorAll('#exercises .drop-zone').forEach(zone => {
                        zone.addEventListener('dragover', e => { e.preventDefault(); if (zone.dataset.locked !== 'true') { zone.classList.add('hovered'); } });
                        zone.addEventListener('dragleave', () => zone.classList.remove('hovered'));
                        zone.addEventListener('drop', handleDrop);
                    });
                }
                function handleDrop(e) {
                    e.preventDefault(); const zone = e.currentTarget; zone.classList.remove('hovered');
                    if (!draggedItem || zone.dataset.locked === 'true') return;
                    const s1 = document.getElementById('source-words-1'); const s2 = document.getElementById('source-words-2');
                    if (zone.parentElement.classList.contains('matching-area')) { if (draggedItem.dataset.match === zone.dataset.matchId) { zone.appendChild(draggedItem); draggedItem.setAttribute('draggable', 'false'); draggedItem.classList.add('correct'); zone.dataset.locked = 'true'; zone.classList.add('correct'); } else { feedbackIncorrect(draggedItem, s1); } }
                    else if (zone.parentElement.classList.contains('category')) { if (draggedItem.dataset.category === zone.dataset.categoryId) { zone.appendChild(draggedItem); draggedItem.setAttribute('draggable', 'false'); draggedItem.classList.add('correct'); } else { feedbackIncorrect(draggedItem, s2); } }
                }
                function feedbackIncorrect(item, sourceContainer) {
                    item.classList.add('incorrect', 'shake');
                    setTimeout(() => { item.classList.remove('incorrect', 'shake'); if (sourceContainer) sourceContainer.appendChild(item); }, 800);
                }
                document.querySelectorAll('#exercises .dropdown-q').forEach(select => {
                    select.addEventListener('change', () => {
                        const icon = select.nextElementSibling; if (select.value === "") { select.className = 'dropdown-q'; icon.textContent = ''; return; }
                        if (select.value === select.dataset.answer) { select.classList.add('correct'); select.classList.remove('incorrect'); icon.textContent = '✔️'; icon.style.color = 'var(--success-color)'; select.disabled = true; } 
                        else { select.classList.add('incorrect'); icon.textContent = '❌'; icon.style.color = 'var(--danger-color)'; setTimeout(() => { select.value = ""; select.classList.remove('incorrect'); icon.textContent = ''; }, 1000); }
                    });
                });
                const resetButton = document.getElementById('reset-btn'); const sourceContainer1 = document.getElementById('source-words-1'); const sourceContainer2 = document.getElementById('source-words-2');
                function createDraggable(word, type) { const div = document.createElement('div'); div.className = 'draggable'; div.draggable = true; div.id = word.id; div.textContent = word.text; if (type === 'match') div.dataset.match = word.match; else if (type === 'category') div.dataset.category = word.category; return div; }
                function resetAllWorkbook() {
                    // Reset drag-and-drop and dropdowns
                    sourceContainer1.innerHTML = ''; sourceContainer2.innerHTML = '';
                    document.querySelectorAll('#exercises .drop-zone').forEach(zone => { zone.innerHTML = ''; zone.classList.remove('correct', 'incorrect'); delete zone.dataset.locked; });
                    document.querySelectorAll('#exercises .dropdown-q').forEach(select => { select.value = ""; select.disabled = false; select.className = 'dropdown-q'; select.nextElementSibling.textContent = ''; });
                    words1.forEach(word => sourceContainer1.appendChild(createDraggable(word, 'match')));
                    words2.forEach(word => sourceContainer2.appendChild(createDraggable(word, 'category')));
                    initializeDragAndDrop();

                    // Reset Adjective Game
                     document.querySelectorAll('.adjective-table .negative-adj, .adjective-table .noun-form').forEach(cell => {
                        cell.classList.add('hidden');
                    });
                }
                resetButton.addEventListener('click', resetAllWorkbook);
                resetAllWorkbook(); // Initial setup
            })();
            
            // --- ADJECTIVE DERIVATIVES GAME LOGIC ---
            (function() {
                const positiveAdjectiveCells = document.querySelectorAll('.positive-adj');
                const negativeAdjectiveCells = document.querySelectorAll('.negative-adj');

                positiveAdjectiveCells.forEach(cell => {
                    cell.addEventListener('click', () => {
                        const parentRow = cell.closest('tr');
                        const negativeAdjCell = parentRow.querySelector('.negative-adj');
                        if (negativeAdjCell) {
                            negativeAdjCell.classList.remove('hidden');
                        }
                    });
                });

                negativeAdjectiveCells.forEach(cell => {
                    cell.addEventListener('click', () => {
                        if (!cell.classList.contains('hidden')) {
                            const parentRow = cell.closest('tr');
                            const nounCell = parentRow.querySelector('.noun-form');
                            if (nounCell) {
                                nounCell.classList.remove('hidden');
                            }
                        }
                    });
                });
            })();

            // --- LISTENING EXERCISE LOGIC ---
            (function() {
                const audio = document.getElementById('student-audio');
                const toggleBtn = document.getElementById('toggle-audio');
                const form = document.getElementById('exercise-form');

                if (audio && toggleBtn && form) {
                    toggleBtn.addEventListener('click', () => {
                        if (audio.paused) {
                            audio.play();
                            toggleBtn.textContent = 'Pause ⏸️';
                        } else {
                            audio.pause();
                            toggleBtn.textContent = 'Listen ▶️';
                        }
                    });
                    audio.addEventListener('ended', () => {
                        toggleBtn.textContent = 'Listen ▶️';
                    });
                    
                    const correctAnswers = {
                        country: ['spain'],
                        greeting: ['buenos-dias', 'hola'],
                        food: ['paella', 'tapas', 'sangria'],
                        entertainment: ['flamenco', 'football', 'cafes', 'art-galleries']
                    };

                    form.addEventListener('submit', (event) => {
                        event.preventDefault(); 
                        const allCheckboxes = form.querySelectorAll('input[type="checkbox"]');
                        allCheckboxes.forEach(checkbox => {
                            const feedbackSpan = document.querySelector(`span[data-feedback-for="${checkbox.id}"]`);
                            if (!feedbackSpan) return;
                            let category = '';
                            if (checkbox.id.startsWith('country')) category = 'country';
                            else if (checkbox.id.startsWith('greeting')) category = 'greeting';
                            else if (checkbox.id.startsWith('food')) category = 'food';
                            else if (checkbox.id.startsWith('ent')) category = 'entertainment';
                            const isCorrectAnswer = correctAnswers[category].includes(checkbox.value);
                            const isChecked = checkbox.checked;
                            feedbackSpan.textContent = '';
                            feedbackSpan.className = 'feedback';
                            if (isChecked && isCorrectAnswer) {
                                feedbackSpan.textContent = '✓';
                                feedbackSpan.classList.add('correct');
                            } else if (isChecked && !isCorrectAnswer) {
                                feedbackSpan.textContent = '✗';
                                feedbackSpan.classList.add('incorrect');
                            } else if (!isChecked && isCorrectAnswer) {
                                feedbackSpan.textContent = '✗';
                                feedbackSpan.classList.add('incorrect');
                            } else {
                                feedbackSpan.textContent = '✓';
                                feedbackSpan.classList.add('correct');
                            }
                        });
                    });
                }
            })();

            // --- COUNTRIES TAB LOGIC ---
            (function() {
                // Interactive Table Script
                const headers = document.querySelectorAll("#countries .row-header");
                headers.forEach(header => {
                    header.addEventListener("click", () => {
                        header.classList.toggle('active');
                        const row = header.parentElement;
                        const contents = row.querySelectorAll(".content-wrapper");
                        contents.forEach(content => {
                            if (content.style.maxHeight) {
                                content.style.maxHeight = null;
                            } else {
                                content.style.maxHeight = content.scrollHeight + "px";
                            }
                        });
                    });
                });

                // Listen/Pause Button Script
                const listenButton = document.getElementById('listenButton');
                const countryAudio = document.getElementById('countryAudio');
                
                if (listenButton && countryAudio) {
                    listenButton.addEventListener('click', () => {
                        if (countryAudio.paused) {
                            countryAudio.play();
                            listenButton.innerHTML = 'Pause ⏸️';
                            listenButton.classList.add('playing');
                        } else {
                            countryAudio.pause();
                            listenButton.innerHTML = 'Listen 🎧';
                            listenButton.classList.remove('playing');
                        }
                    });

                    // Reset button when audio finishes
                    countryAudio.addEventListener('ended', () => {
                        listenButton.innerHTML = 'Listen 🎧';
                        listenButton.classList.remove('playing');
                    });
                }
            })();
        });
    </script>
</body>
</html>